<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/layout.html}">
<head>
    <script src="https://code.jquery.com/jquery-3.7.1.js"
            integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <meta charset="UTF-8">
    <title>게시글 수정</title>
</head>
<body>
<div layout:fragment="content" class="mt-3 border rounded bg-light shadow-sm">

    <div class="container-fluid row">
        <!-- 좌측 섹션: 게시글 수정 폼 -->
        <div class="col-md-7">
            <form action="/blog/modify" method="post" th:object="${blogDTO}">
                <input type="hidden" name="num" th:value="${blogDTO.num}">

                <div class="mb-3">
                    <label for="title" class="form-label">제목</label>
                    <textarea th:field="*{title}" class="form-control" id="title" rows="2">[[${blogDTO.title}]]</textarea>
                </div>

                <div class="mb-3">
                    <label for="content" class="form-label">내용</label>
                    <textarea th:field="*{content}" class="form-control" id="content" rows="5" style="min-height:400px;">[[${blogDTO.content}]]</textarea>
                </div>

                <div class="d-flex justify-content-between mt-5">
                    <a th:href="@{/blog/list}" class="btn btn-secondary">목록으로 돌아가기</a>
                    <button type="submit" class="btn btn-primary">수정</button>
                </div>
            </form>
        </div>

        <!-- 우측 섹션: 지도와 날씨 정보 -->

        <div class="col-md-5">

            <div class="row">
                <form class="d-flex" role="search" action="/board/list" method="get" style="float: right">
                    <select class="form-select mb-2" aria-label="Large select example" onchange="selectReg(this.value); selectMap(this.value);">
                        <option selected>지역을 선택하셈</option>
                        <option value="1">서울특별시</option>
                        <option value="2">부산광역시</option>
                        <option value="3">대구광역시</option>
                        <option value="4">인천광역시</option>
                        <option value="5">광주광역시</option>
                        <option value="6">대전광역시</option>
                        <option value="7">울산광역시</option>
                        <option value="8">세종특별자치시</option>
                        <option value="9">경기도 (수원)</option>
                        <option value="10">강원특별자치도</option>
                        <option value="11">충청북도 (청주)</option>
                        <option value="12">충청남도 (홍성)</option>
                        <option value="13">전북특별자치도 (전주)</option>
                        <option value="14">전라남도 (목포)</option>
                        <option value="15">경상북도 (안동)</option>
                        <option value="16">경상남도 (창원)</option>
                        <option value="17">제주특별자치도</option>
                    </select>

                </form>
            </div>

            <!-- 검색창 및 버튼 그룹 -->
            <form onsubmit="searchPlaces(); return false;" class="d-flex justify-content-start ms-1">
                <input type="text" id="keyword" placeholder="검색할 장소를 입력하세요"
                       class="form-control form-control-sm me-2" style="width: 200px;">
                <button class="btn btn-primary btn-sm">검색</button>
            </form>

            <div id="map" class="mb-3" style="height: 300px; position: relative; z-index: 1;"></div>

            <!-- 날씨 정보 표시 부분 -->
            <div class="restaurantBoardWeather card mt-3">
                <div class=" justify-content-between row">
                    <!-- 오늘의 날씨 카드 -->

                    <div class="col">

                        <div id="skyIconToday" class="card weather-card text-center " style="width: 100%; height: 130px;">
                            <div class="card-body p-1">
                                <div>
                                    <h6 class="card-title" style="font-weight: bolder;font-size: 0.85rem; margin: 0; padding: 0; text-shadow: -1px -1px white, 1px 1px white;">To Day</h6>
                                    <img id="ptyIconToday" src="" class="img-fluid" style="width: 75px; display: block; margin: 0 auto;" />
                                </div>
                                <p style="font-weight: bold;font-size: 1rem; margin: 0; padding: 0;font-color:black; text-shadow: -1px -1px white, 1px 1px white;">현재: <span id="todayTMP"></span>°C</p>
                                <div class="d-flex justify-content-between">
                                    <p style="font-size: 0.85rem; margin: 0; padding: 0; text-shadow: -1px -1px white, 1px 1px white;">최저: <span id="todayTMN"></span>°C</p>
                                    <p style="font-size: 0.85rem; margin: 0; padding: 0; text-shadow: -1px -1px white, 1px 1px white;">최고: <span id="todayTMX"></span>°C</p>

                                </div>

                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <!-- 내일의 날씨 카드 -->
                        <div id="skyIconTomorrow" class="card weather-card text-center col" style="width: 100%; height: 130px;">
                            <div class="card-body p-1">
                                <h6 class="card-title" style="font-weight: bolder;font-size: 0.85rem; margin: 0; padding: 0; text-shadow: -1px -1px white, 1px 1px white;">내일의 날씨</h6>
                                <img id="ptyIconTomorrow" src="" class="img-fluid" style="width: 75px; display: block; margin: 0 auto;" />
                                <div class="d-flex justify-content-between">
                                    <p style="font-size: 0.85rem; margin: 0; padding: 0; text-shadow: -1px -1px white, 1px 1px white; margin-top: 10%">최고: <span id="tomorrowTMX"></span>°C</p>
                                    <p style="font-size: 0.85rem; margin: 0; padding: 0; text-shadow: -1px -1px white, 1px 1px white; margin-top: 10%">최저: <span id="tomorrowTMN"></span>°C</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            <!-- 추가 날씨 카드 5장 -->
            <div class="d-flex justify-content-between gap-1 mt-3">
                <!-- 3~7일 날씨 카드 -->
                <div id="wDay3" class="card weather-card text-center flex-fill p-0 m-0" style="border-radius: 12px; height: 100px;">
                    <div class="card-body p-0 m-0">
                        <h6 class="card-title p-0 m-0" style="font-size: 0.85rem;">3일 후</h6>
                        <div class="row m-2 p-0 m-0">
                            <div class="col p-0 m-0">
                                <img id="day3Am" src="" class="weather-icon p-0 m-0 w-75">
                                <p style="font-size: 0.75rem; margin: 0; padding: 0;">최고<br><span id="day3Max"></span>°C</p>
                            </div>
                            <div class="col p-0 m-0">
                                <img id="day3Pm" src="" class="weather-icon p-0 m-0 w-75">
                                <p style="font-size: 0.75rem; margin: 0; padding: 0;">최저<br><span id="day3Min"></span>°C</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="wDay4" class="card weather-card text-center flex-fill p-0 m-0" style="border-radius: 12px; height: 100px;">
                    <div class="card-body p-0 m-0">
                        <h6 class="card-title p-0 m-0" style="font-size: 0.85rem;">4일 후</h6>
                        <div class="row m-2 p-0 m-0">
                            <div class="col p-0 m-0">
                                <img id="day4Am" src=""class="weather-icon p-0 m-0 w-75">
                                <p style="font-size: 0.75rem; margin: 0; padding: 0;">최고<br><span id="day4Max"></span>°C</p>
                            </div>
                            <div class="col p-0 m-0">
                                <img id="day4Pm" src="" class="weather-icon p-0 m-0 w-75">
                                <p style="font-size: 0.75rem; margin: 0; padding: 0;">최저<br><span id="day4Min"></span>°C</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="wDay5" class="card weather-card text-center flex-fill p-0 m-0" style="border-radius: 12px; height: 100px;">
                    <div class="card-body p-0 m-0">
                        <h6 class="card-title p-0 m-0" style="font-size: 0.85rem;">5일 후</h6>
                        <div class="row m-2 p-0 m-0">
                            <div class="col p-0 m-0">
                                <img id="day5Am" src="" class="weather-icon p-0 m-0 w-75">
                                <p style="font-size: 0.75rem; margin: 0; padding: 0;">최고<br><span id="day5Max"></span>°C</p>
                            </div>
                            <div class="col p-0 m-0">
                                <img id="day5Pm" src="" class="weather-icon p-0 m-0 w-75">
                                <p style="font-size: 0.75rem; margin: 0; padding: 0;">최저<br><span id="day5Min"></span>°C</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="wDay6" class="card weather-card text-center flex-fill p-0 m-0" style="border-radius: 12px; height: 100px;">
                    <div class="card-body p-0 m-0">
                        <h6 class="card-title p-0 m-0" style="font-size: 0.85rem;">6일 후</h6>
                        <div class="row m-2 p-0 m-0">
                            <div class="col p-0 m-0">
                                <img id="day6Am" src="" class="weather-icon p-0 m-0 w-75">
                                <p style="font-size: 0.75rem; margin: 0; padding: 0;">최고<br><span id="day6Max"></span>°C</p>
                            </div>
                            <div class="col p-0 m-0">
                                <img id="day6Pm" src="" class="weather-icon p-0 m-0 w-75">
                                <p style="font-size: 0.75rem; margin: 0; padding: 0;">최저<br><span id="day6Min"></span>°C</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="wDay7" class="card weather-card text-center flex-fill p-0 m-0" style="border-radius: 12px; height: 100px;">
                    <div class="card-body p-0 m-0">
                        <h6 class="card-title p-0 m-0" style="font-size: 0.85rem;">7일 후</h6>
                        <div class="row m-2 p-0 m-0">
                            <div class="col p-0 m-0">
                                <img id="day7Am" src="" class="weather-icon p-0 m-0 w-75">
                                <p style="font-size: 0.75rem; margin: 0; padding: 0;">최고<br><span id="day7Max"></span>°C</p>
                            </div>
                            <div class="col p-0 m-0">
                                <img id="day7Pm" src="" class="weather-icon p-0 m-0 w-75">
                                <p style="font-size: 0.75rem; margin: 0; padding: 0;">최저<br><span id="day7Min"></span>°C</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>


<!-- 모달 구조 -->
<div class="modal fade" id="placeModal" tabindex="-1" aria-labelledby="placeModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="placeModalLabel">장소 정보</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div id="modalContent">
                    <!-- 여기에 내용이 동적으로 추가됩니다 -->
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">닫기</button>
            </div>
        </div>
    </div>
</div>
</div>


    <script src = "/js/kakao.js"></script>
    <script src = "/js/weather.js"></script>

</div>

</body>
</html>